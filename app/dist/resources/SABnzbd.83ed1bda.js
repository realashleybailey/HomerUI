import{s as i}from"./service.541fc1e6.js";import{G as c}from"./Dashboard.4f77f1ad.js";import{_ as d,m as l,o as s,f,H as _,a as m,c as o,t as u,b as a}from"./index.f7b65c2a.js";const h={name:"SABnzbd",mixins:[i],props:{item:Object},components:{Generic:c},data:()=>({stats:null,error:!1}),computed:{downloads:function(){return this.stats?this.stats.noofslots:""}},created(){const t=parseInt(this.item.downloadInterval,10)||0;t>0&&setInterval(()=>this.fetchStatus(),t),this.fetchStatus()},methods:{fetchStatus:async function(){try{const t=await this.fetch(`/api?output=json&apikey=${this.item.apikey}&mode=queue`);this.error=!1,this.stats=t.queue}catch(t){this.error=!0,console.error(t)}}}},p={class:"notifs"},w=["title"],v={key:1,class:"notif error fa-solid fa-triangle-exclamation",title:"Unable to fetch current status"};function y(t,k,n,B,S,e){const r=l("Generic");return s(),f(r,{item:n.item},{indicator:_(()=>[m("div",p,[e.downloads>0?(s(),o("strong",{key:0,class:"notif downloading",title:`${e.downloads} active download${e.downloads>1?"s":""}`},u(e.downloads),9,w)):a("",!0),t.error?(s(),o("i",v)):a("",!0)])]),_:1},8,["item"])}const I=d(h,[["render",y],["__scopeId","data-v-f2083280"]]);export{I as default};
