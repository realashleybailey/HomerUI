import{_ as l,V as r,s as i,c as d,a as e,I as p,o as u}from"./index.f7b65c2a.js";const _={name:"Login",data:function(){return{loginError:null}},methods:{async performLogin(){const n=document.getElementById("username").value,s=document.getElementById("password").value;if(!n||!s)return;const o=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:s})});if(o.status===200){const t=await o.json(),a=r.decode(t.token);i.commit("setUser",a.user),i.commit("setToken",t.token),this.$router.push("/")}else{const t=await o.json();this.loginError=t.message}}}},m={class:"login container"},h={class:"login card"},f={class:"card-content",style:{height:"auto"}},g={class:"content"},v=p('<p class="title"> Login </p><div class="field"><p class="control has-icons-left has-icons-right"><input id="username" class="input" type="username" placeholder="Username"><span class="icon is-small is-left"><i class="fas fa-user"></i></span></p></div><div class="field"><p class="control has-icons-left"><input id="password" class="input" type="password" placeholder="Password"><span class="icon is-small is-left"><i class="fas fa-lock"></i></span></p></div>',3),y={class:"buttons is-right"};function w(n,s,o,t,a,c){return u(),d("div",m,[e("div",h,[e("div",f,[e("div",g,[v,e("div",y,[e("button",{class:"button is-link",style:{"background-color":"var(--highlight-secondary)"},onClick:s[0]||(s[0]=k=>c.performLogin())},"Login")])])])])])}const b=l(_,[["render",w]]);export{b as default};
