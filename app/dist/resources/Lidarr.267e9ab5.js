import{s as c}from"./service.541fc1e6.js";import{G as l}from"./Dashboard.4f77f1ad.js";import{_ as h,m as d,o as t,f,H as p,a as _,c as s,t as o,b as i}from"./index.f7b65c2a.js";const m={name:"Lidarr",mixins:[c],props:{item:Object},components:{Generic:l},data:()=>({activity:null,warnings:null,errors:null,serverError:!1}),created:function(){this.fetchConfig()},methods:{fetchConfig:function(){this.fetch(`/api/v1/health?apikey=${this.item.apikey}`).then(e=>{this.warnings=0,this.errors=0;for(var r=0;r<e.length;r++)e[r].type=="warning"?this.warnings++:e[r].type=="error"&&this.errors++}).catch(e=>{console.error(e),this.serverError=!0}),this.fetch(`/api/v1/queue/status?apikey=${this.item.apikey}`).then(e=>{this.activity=e.totalCount}).catch(e=>{console.error(e),this.serverError=!0})}}},u={class:"notifs"},y={key:0,class:"notif activity",title:"Activity"},v={key:1,class:"notif warnings",title:"Warning"},g={key:2,class:"notif errors",title:"Error"},k={key:3,class:"notif errors",title:"Connection error to Lidarr API, check url and apikey in config.yml"};function w(e,r,n,C,E,$){const a=d("Generic");return t(),f(a,{item:n.item},{indicator:p(()=>[_("div",u,[e.activity>0?(t(),s("strong",y,o(e.activity),1)):i("",!0),e.warnings>0?(t(),s("strong",v,o(e.warnings),1)):i("",!0),e.errors>0?(t(),s("strong",g,o(e.errors),1)):i("",!0),e.serverError?(t(),s("strong",k,"?")):i("",!0)])]),_:1},8,["item"])}const b=h(m,[["render",w],["__scopeId","data-v-59d968a0"]]);export{b as default};
